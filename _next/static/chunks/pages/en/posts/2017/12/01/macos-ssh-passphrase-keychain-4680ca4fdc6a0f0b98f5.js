_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"7ljp":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return h}));var r=n("q1tI"),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=o.a.createContext({}),u=function(e){var t=o.a.useContext(p),n=t;return e&&(n="function"===typeof e?e(t):c(c({},t),e)),n},l=function(e){var t=u(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),l=u(n),f=r,h=l["".concat(s,".").concat(f)]||l[f]||b[f]||a;return n?o.a.createElement(h,c(c({ref:t},p),{},{components:n})):o.a.createElement(h,c({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"===typeof e||r){var a=n.length,s=new Array(a);s[0]=f;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"===typeof e?e:r,s[1]=c;for(var p=2;p<a;p++)s[p]=n[p];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},Ff2n:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},LkCs:function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return i})),n.d(t,"default",(function(){return u}));var r=n("rePB"),o=n("Ff2n"),a=(n("q1tI"),n("7ljp"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={title:"Every time you want to use ssh, macOS asks you your passphrase? This is the fix.",cover:"/images/macos-ssh-passphrase-keychain/cover.png"},p={meta:i};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",c(c(c({},p),n),{},{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Since Sierra (macOS), I've got this annoying question when I want to connect to a server via ssh:"),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{}),"$ ssh kud.io\nEnter passphrase for key '/Users/kud/.ssh/id_rsa':\n")),Object(a.b)("p",null,"It asks you your passphrase."),Object(a.b)("p",null,"Ugh? Usually it is saved in Keychain. But it doesn't work anymore."),Object(a.b)("p",null,"However, there's a solution not to have to ",Object(a.b)("inlineCode",{parentName:"p"},"$ ssh-add -K")," every time you start a shell and want to connect with ssh."),Object(a.b)("p",null,"Just add these lines to your ",Object(a.b)("inlineCode",{parentName:"p"},"~/.ssh/config")," line and it forces the SSH daemon to use Keychain."),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{}),"Host *\n  UseKeychain yes\n  AddKeysToAgent yes\n")),Object(a.b)("p",null,"The reason is that the latest updates comes bundled with an ",Object(a.b)("a",c({parentName:"p"},{href:"https://developer.apple.com/library/content/technotes/tn2449/_index.html"}),"updated OpenSSH package")," that changes some default behaviour."),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{className:"language-html"}),"Prior to macOS Sierra, ssh would present a dialog asking for your passphrase and\nwould offer the option to store it into the keychain. This UI was deprecated\nsome time ago and has been removed. Instead, a new UseKeychain option was\nintroduced in macOS Sierra allowing users to specify whether they would like for\nthe passphrase to be stored in the keychain. This option was enabled by default\non macOS Sierra, which caused all passphrases to be stored in the keychain. This\nwas not the intended default behavior, so this has been changed in macOS\n10.12.2. OpenSSH updates in macOS 10.12.2\n")))}u.isMDXComponent=!0},MiAb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/en/posts/2017/12/01/macos-ssh-passphrase-keychain",function(){return n("LkCs")}])},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))}},[["MiAb",0,1]]]);